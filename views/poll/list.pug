extends ../layout

block breadcrumb
    div(class="col-md-10 offset-md-1 col-lg-8 offset-lg-2")
        ol(class="breadcrumb")
            li(class="breadcrumb-item active") Home

block content
    div(class="col-md-10 offset-md-1 col-lg-8 offset-lg-2 card")

        div(class="card-block")
            h2 Poll list
            hr

            div(id="poll-form")
                div(class="form-content")

                if user
                    button(id="add-poll" class="btn btn-lg btn-block btn-warning")
                        i(class="fa fa-plus")
                        span(class="margin-left-10") Create a poll

            if user
                hr

            div(id="poll-list" class="card-content")
                ul(id="poll-list-group" class="list-group")
                    each poll in polls
                        li(class="list-group-item justify-content-between")
                            p(class="lead")
                                a(href="/polls/" + poll.id())= poll.name()
                            span(class="badge badge-default badge-pill")= poll.votesNumber()

block append scripts
    script(type="text/javascript" src="/js/poll/get-poll-form.client.js")
